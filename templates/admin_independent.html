<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panel de Administrador | BAÑICO'S</title>
    <link
      href="{{ url_for('static', filename='css/master.css') }}"
      rel="stylesheet"
    />
    <style>
      /* Estilos específicos para la página de administrador */
      body {
        font-family: Arial, sans-serif;
        margin: 2em;
        background-color: #f4f4f4;
      }
      section {
        margin-bottom: 2em;
        padding: 1em;
        background-color: #fff;
        border: 1px solid #ddd;
      }
      form {
        display: flex;
        flex-direction: column;
      }
      label,
      input {
        margin-bottom: 1em;
      }
      .admin-box {
        text-align: center;
      }
      .avatar {
        width: 100px;
        margin-bottom: 20px;
      }
      .flash-messages {
        background-color: #f4f4f4; /* Color de fondo */
        border: 1px solid #ccc; /* Borde */
        padding: 10px; /* Espaciado interior */
        margin: 10px 0; /* Margen exterior */
        border-radius: 5px; /* Bordes redondeados */
        color: #333; /* Color del texto */
        text-align: center; /* Alineación del texto */
      }
      
    </style>
  </head>
  <body>
    {% with messages = get_flashed_messages() %} 
        {% if messages %}
            <div class="flash-messages">
                {% for message in messages %}
                    <p>{{ message }}</p>   
                {% endfor %}
            </div>
        {% endif %}     
    {% endwith %}
    <div class="admin-box">
      <img
        alt="logo panaderia BAÑICO'S"
        class="avatar"
        src="{{ url_for('static', filename='images/logo_bañico.png') }}"
      />
      <h2>Panel de Administrador</h2>
      <a href="{{ url_for('logout') }}">Cerrar sesión</a>
    </div>

    <section>
      <h3>Añadir Nuevo Producto</h3>
      <form action="{{ url_for('add_product') }}" method="post">
        <label for="name">Nombre:</label>
        <input type="text" name="name" required />
        <label for="description">Descripción:</label>
        <textarea name="description"></textarea>
        <label for="price">Precio:</label>
        <input type="number" step="0.01" name="price" required />
        <input type="submit" value="Añadir Producto" />
      </form>
    </section>

    <section>
      <h3>Lista de Productos</h3>
      <div style="border: 2px solid #ccc; padding: 1em">
        <ul>
          {% for product in products %}
          <li style="margin: 1em; border-bottom: 1px solid #ddd">
            <strong>ID: {{ product.id }}</strong> - {{ product.name }}
            <a href="{{ url_for('product', product_id=product.id) }}"
              >Ver Detalles</a
            >
            |
            <a href="{{ url_for('update_product', product_id=product.id) }}"
              >Editar</a
            >
            |
            <form
              action="{{ url_for('delete_product', product_id=product.id) }}"
              method="post"
              style="display: inline"
            >
              <button type="submit">Eliminar</button>
            </form>
          </li>
          {% endfor %}
        </ul>
      </div>
    </section>

    <script>
      // Aquí puedes agregar scripts específicos para la página de administrador si lo deseas
    </script>
  </body>
</html>
